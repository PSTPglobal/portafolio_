(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1243:function(e,t){},1245:function(e,t){},1246:function(e,t){},1247:function(e,t){},1248:function(e,t){},1302:function(e,t,n){"use strict";n.r(t);var r=n(10),a=n.n(r),i=n(0),o=n.n(i),s=n(2),c=n.n(s),u=n(29),d=n(141),h=n(100),p=n(104),f=n(54),g=n(1301),v=n(1242),P=n.n(v),l=n(442),m=n(1255),y=n.n(m);function w(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){w(i,r,a,o,s,"next",e)}function s(e){w(i,r,a,o,s,"throw",e)}o(void 0)})}}P.a.GlobalWorkerOptions.workerSrc=y.a;var E=window.devicePixelRatio,R=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).state={pdf:null,currentPage:1,canvasWidth:900,lastRenderedWidth:900,activeLayer:"primary"},t.listener=function(e){t.renderPdf()},t.renderPdf=C(a.a.mark(function e(){var n,r,i,o,s,c,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.document,i=n.fallbackRenderer,o=t.state.currentPage,window.Worker){e.next=5;break}return i({reason:"Workers are not supported"}),e.abrupt("return");case 5:return e.prev=5,e.next=8,p.a.getConfig(r.locale);case 8:return s=e.sent,e.next=11,Object(g.renderWorker)({resume:r,config:s});case 11:return c=e.sent,e.next=14,t.loadPdf(c);case 14:u=e.sent,o>u.numPages&&(o=u.numPages),t.props.onPaginationChange({currentPage:o-1,totalPagesCount:u.numPages}),t.setState({pdf:u,currentPage:o},function(){t.renderPage(o)}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),"TIMEOUT_EXCEEDED"===e.t0?i({reason:"Rendering timeout exceeded"}):(i({reason:"Runtime error",message:e.t0.toString()}),f.a.log(e.t0));case 23:case"end":return e.stop()}},e,null,[[5,20]])})),t.loadPdf=function(e){return P.a.getDocument(e).promise},t.setCanvasSize=function(e){var n=e.width,r=e.height,a=t.primaryCanvas.current,i=t.secondaryCanvas.current;a.width=n,a.height=r,i.width=n,i.height=r},t.primaryCanvas=o.a.createRef(),t.secondaryCanvas=o.a.createRef(),t.isBusy=!1,t.isPending=!1,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){h.a.on(h.a.RESUME_PREVIEW_RELOAD_EVENT,this.listener),this.renderPdf()},i.componentDidUpdate=function(e){!e.document&&this.props.document&&this.renderPdf()},i.componentWillUnmount=function(){clearTimeout(this.renderingTimeoutId),h.a.removeListener(h.a.RESUME_PREVIEW_RELOAD_EVENT,this.listener)},i.renderPage=function(e){var t=this;if(this.isBusy)this.isPending=!0;else{this.isBusy=!0;var n=this.props,r=n.width,a=n.onPageRender,i=this.state.pdf;i&&i.getPage(e).then(function(e){var n=e.getViewport(1),a=r*E/n.width,i=e.getViewport(a);t.state.canvasWidth!==i.width&&t.setCanvasSize(i),t.setState({canvasWidth:i.width,lastRenderedWidth:r});var o=t.primaryCanvas.current,s=t.secondaryCanvas.current,c="primary"===t.state.activeLayer?s:o;return e.render({canvasContext:c.getContext("2d"),viewport:i}).promise}).then(function(){var e="primary"===t.state.activeLayer?"secondary":"primary";t.setState({activeLayer:e}),a&&a(),t.isBusy=!1,t.isPending&&t.renderPage(t.state.currentPage),t.isPending=!1}).catch(function(e){return f.a.log(e)})}},i.nextPage=function(){var e=this,t=this.state,n=t.currentPage,r=t.pdf,a=n+1;this.props.onPaginationChange({currentPage:a-1,totalPagesCount:r.numPages}),this.setState({currentPage:a},function(){e.renderPage(a)})},i.previousPage=function(){var e=this,t=this.state,n=t.currentPage,r=t.pdf,a=n-1;this.props.onPaginationChange({currentPage:a-1,totalPagesCount:r.numPages}),this.setState({currentPage:a},function(){e.renderPage(a)})},i.reset=function(){var e=this,t=this.state.pdf;this.props.onPaginationChange({currentPage:0,totalPagesCount:t.numPages}),this.setState({currentPage:1},function(){e.renderPage(1)})},i.resize=function(){var e=this.props.width,t=this.state,n=t.currentPage;e-t.lastRenderedWidth>50&&this.renderPage(n)},i.render=function(){var e=this.props.width,t=this.state,n=t.canvasWidth,r=t.activeLayer,a=e/n;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.d,{ref:this.primaryCanvas,ratio:a,visible:"primary"===r}),o.a.createElement(l.e,{ref:this.secondaryCanvas,ratio:a,visible:"secondary"===r}))},r}(i.Component);R.propTypes={width:c.a.number,height:c.a.number,document:c.a.object,onPaginationChange:c.a.func,onPageRender:c.a.func,fallbackRenderer:c.a.func};var b={fallbackRenderer:d.a.fallbackRenderer};t.default=Object(u.connect)(null,b,null,{forwardRef:!0})(R)},919:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=919}}]);
//# sourceMappingURL=10-d6abfd2a8db52e226a62.chunk.js.map